<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Courses - EduManage</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .icon { display:inline-block; vertical-align:middle }
    .icon svg { display:block }
  </style>
</head>
<body class="bg-slate-50 min-h-screen text-slate-800">
  <!-- Mobile Menu Button -->
  <button id="mobile-menu-btn" class="lg:hidden fixed top-4 left-4 z-60 p-2 bg-white rounded-lg shadow-md">
    <span id="mobile-icon">&#9776;</span>
  </button>
  <div id="mobile-overlay" class="hidden lg:hidden fixed inset-0 bg-black bg-opacity-50 z-30"></div>

  <!-- Sidebar -->
  <aside id="app-sidebar" class="fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 transform transition-transform duration-300 ease-in-out -translate-x-full lg:translate-x-0">
    <div class="flex flex-col h-full">
      <div class="py-3 px-6 border-b border-slate-200">
        <h2 class="text-xl font-bold text-blue-600">EduManage</h2>
        <p class="text-sm text-slate-500 mt-0.5">Teacher Portal</p>
      </div>
      <nav id="sidebar-nav" class="flex-1 p-4 space-y-1">
        <a href="dashboard.html" data-path="dashboard.html" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 text-slate-700 hover:bg-slate-50">
          <span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="8" rx="1" ry="1"/><rect x="14" y="3" width="7" height="5" rx="1" ry="1"/><rect x="14" y="12" width="7" height="9" rx="1" ry="1"/><rect x="3" y="12" width="7" height="9" rx="1" ry="1"/></svg></span>
          <span class="font-medium">Dashboard</span>
        </a>
        <a href="schedule.html" data-path="schedule.html" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 text-slate-700 hover:bg-slate-50">
          <span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><path d="M16 2v4M8 2v4M3 10h18"/></svg></span>
          <span class="font-medium">Schedule</span>
        </a>
        <a href="courses.html" data-path="courses.html" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 text-slate-700 hover:bg-slate-50">
          <span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M2 7a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a0 0 0 0 1 0 0H2z"/><path d="M22 7a4 4 0 0 0-4-4"/></svg></span>
          <span class="font-medium">Courses</span>
        </a>
        <a href="students.html" data-path="students.html" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 text-slate-700 hover:bg-slate-50">
          <span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></span>
          <span class="font-medium">Students</span>
        </a>
        <a href="settings.html" data-path="settings.html" class="w-full flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors duration-200 text-slate-700 hover:bg-slate-50">
          <span class="icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06"/></svg></span>
          <span class="font-medium">Settings</span>
        </a>
      </nav>

      <div class="p-4 border-t border-slate-200 mt-auto">
        <button id="logout-btn" class="w-full flex items-center space-x-3 px-4 py-2 text-slate-600 hover:bg-slate-50 rounded-lg transition-colors">
          <span class="icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><polyline points="21 12 9 12"/></svg></span>
          <span>Logout</span>
        </button>
      </div>
    </div>
  </aside>

  <!-- Main Content -->
  <div class="p-4 md:p-6 max-w-7xl mx-auto lg:ml-64">
    <div class="mb-8">
      <h1 class="text-3xl font-bold text-slate-900 mb-2">Courses</h1>
      <p class="text-slate-600">Manage your teaching courses and schedules</p>
    </div>

    <!-- Stats Overview -->
    <div id="stats" class="grid md:grid-cols-3 gap-6 mb-8"></div>

    <!-- Add Course Button -->
    <div class="mb-6">
      <button id="addCourseBtn" class="bg-blue-600 hover:bg-blue-700 text-white font-medium px-6 py-3 rounded-lg transition-colors flex items-center space-x-2">
        <span class="icon"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12h14"/></svg></span>
        <span>Add New Course</span>
      </button>
    </div>

    <!-- Courses Grid -->
    <div id="courses-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6"></div>

  </div>

  <script>
    // data copied from src/pages/Courses.tsx
    const courses = [{
      id: 1,
      name: 'Advanced Mathematics',
      code: 'MATH-301',
      students: 24,
      schedule: 'Mon, Wed, Fri - 10:00 AM',
      duration: '60 min',
      color: 'bg-blue-500'
    }, {
      id: 2,
      name: 'Physics Laboratory',
      code: 'PHYS-201',
      students: 18,
      schedule: 'Tue, Thu - 2:00 PM',
      duration: '90 min',
      color: 'bg-purple-500'
    }, {
      id: 3,
      name: 'English Literature',
      code: 'ENG-401',
      students: 30,
      schedule: 'Mon, Wed - 1:00 PM',
      duration: '75 min',
      color: 'bg-emerald-500'
    }, {
      id: 4,
      name: 'Computer Science',
      code: 'CS-101',
      students: 22,
      schedule: 'Tue, Thu - 9:00 AM',
      duration: '90 min',
      color: 'bg-orange-500'
    }, {
      id: 5,
      name: 'Chemistry',
      code: 'CHEM-202',
      students: 20,
      schedule: 'Wed, Fri - 11:00 AM',
      duration: '60 min',
      color: 'bg-pink-500'
    }, {
      id: 6,
      name: 'History',
      code: 'HIST-301',
      students: 26,
      schedule: 'Mon, Thu - 3:00 PM',
      duration: '60 min',
      color: 'bg-indigo-500'
    }];

    // helpers
    const escapeHtml = str => String(str).replace(/[&<>'"]/g, s => ({'&':'&amp;','<':'&lt;','>':'&gt;"','\'':'&#39;' }[s]));
    // (note: a small escape above; UI data here is safe since static)

    function renderStats(){
      const el = document.getElementById('stats');
      if(!el) return;
      const totalCourses = courses.length;
      const totalStudents = courses.reduce((sum,c)=> sum + (c.students||0), 0);
      const avg = Math.round(totalStudents / Math.max(totalCourses,1));
      el.innerHTML = `
        <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-6">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm text-slate-600 mb-1">Total Courses</p>
              <p class="text-3xl font-bold text-slate-900">${totalCourses}</p>
            </div>
            <div class="bg-blue-100 p-3 rounded-lg">
              <span class="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"/><path d="M3 4h18v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4z"/></svg></span>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-6">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm text-slate-600 mb-1">Total Students</p>
              <p class="text-3xl font-bold text-slate-900">${totalStudents}</p>
            </div>
            <div class="bg-blue-100 p-3 rounded-lg">
              <span class="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></span>
            </div>
          </div>
        </div>
        <div class="bg-white rounded-xl shadow-sm border border-slate-100 p-6">
          <div class="flex items-center justify-between">
            <div>
              <p class="text-sm text-slate-600 mb-1">Avg. Class Size</p>
              <p class="text-3xl font-bold text-slate-900">${avg}</p>
            </div>
            <div class="bg-purple-100 p-3 rounded-lg">
              <span class="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></span>
            </div>
          </div>
        </div>
      `;
    }

    function renderCourses(){
      const grid = document.getElementById('courses-grid');
      if(!grid) return;
      grid.innerHTML = courses.map(course => `
        <div class="bg-white rounded-xl shadow-sm border border-slate-100 overflow-hidden hover:shadow-md transition-shadow">
          <div class="${course.color} h-2"></div>
          <div class="p-6">
            <div class="mb-4">
              <h3 class="text-lg font-bold text-slate-900 mb-1">${course.name}</h3>
              <p class="text-sm text-slate-500">${course.code}</p>
            </div>
            <div class="space-y-3">
              <div class="flex items-center text-sm text-slate-600"><span class="icon mr-2 text-blue-600"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg></span>${course.students} students enrolled</div>
              <div class="flex items-center text-sm text-slate-600"><span class="icon mr-2 text-blue-600"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg></span>${course.duration} per session</div>
              <div class="pt-3 border-t border-slate-100"><p class="text-sm text-slate-600">${course.schedule}</p></div>
            </div>
            <button class="w-full mt-4 bg-slate-50 hover:bg-slate-100 text-slate-700 font-medium py-2 rounded-lg transition-colors">View Details</button>
          </div>
        </div>
      `).join('');
    }

    // sidebar wiring (mobile toggle + active link)
    (function(){
      const btn = document.getElementById('mobile-menu-btn');
      const overlay = document.getElementById('mobile-overlay');
      const aside = document.getElementById('app-sidebar');
      const mobileIcon = document.getElementById('mobile-icon');
      let isOpen = false;
      function setOpen(open){ isOpen = open; if(isOpen){ aside.classList.remove('-translate-x-full'); overlay.classList.remove('hidden'); if(mobileIcon) mobileIcon.innerHTML='\u2715'; } else { aside.classList.add('-translate-x-full'); overlay.classList.add('hidden'); if(mobileIcon) mobileIcon.innerHTML='\u2630'; } }
      if(btn) btn.addEventListener('click', ()=> setOpen(!isOpen));
      if(overlay) overlay.addEventListener('click', ()=> setOpen(false));
      const nav = document.getElementById('sidebar-nav');
      function updateActive(){ if(!nav) return; const currentFile = (location.pathname.split('/').pop() || '').toLowerCase(); nav.querySelectorAll('[data-path]').forEach(a=>{ a.classList.remove('bg-blue-50','text-blue-700','text-slate-600'); a.removeAttribute('aria-current'); const path = (a.getAttribute('data-path') || a.getAttribute('href') || '').toLowerCase(); if(path === currentFile){ a.classList.add('bg-blue-50','text-blue-700'); a.setAttribute('aria-current','page'); } else { a.classList.add('text-slate-600'); } }); }
      if(nav){ nav.querySelectorAll('[data-path]').forEach(a=> a.addEventListener('click', ()=>{ if(window.innerWidth<1024) setOpen(false); setTimeout(updateActive,100); })); }
      updateActive();
    })();

    // initial render
    renderStats();
    renderCourses();

    // Add New Course - just a demo placeholder (no persistence)
    const addBtn = document.getElementById('addCourseBtn');
    if(addBtn) addBtn.addEventListener('click', ()=>{ alert('Add Course flow not implemented in static demo.'); });
  </script>
</body>
</html>
